[gd_scene load_steps=49 format=3 uid="uid://dujko6qhv3h44"]

[ext_resource type="Script" uid="uid://caqtptgaoi64s" path="res://scripts/survivors_game.gd" id="1_85uov"]
[ext_resource type="Texture2D" uid="uid://bsx36ys37np1l" path="res://assets/ui/xp_bar_background.png" id="2_4bwrk"]
[ext_resource type="PackedScene" uid="uid://g15nirwwfyge" path="res://scenes/player.tscn" id="2_uhra2"]
[ext_resource type="Texture2D" uid="uid://dk0sqkhyi0g5p" path="res://assets/ui/xp_bar_fill.png" id="3_5beo8"]
[ext_resource type="Theme" uid="uid://dw1l456vo7ar7" path="res://resources/default_theme.tres" id="4_hfi5g"]
[ext_resource type="PackedScene" uid="uid://dxispxmtl7bn4" path="res://scenes/mob_spawner.tscn" id="4_uhra2"]
[ext_resource type="Texture2D" uid="uid://dg0tof72xa5pv" path="res://assets/Stranded - Factory Pack/Forges/Basic Forge.png" id="6_4bwrk"]
[ext_resource type="Texture2D" uid="uid://b2b6jyflchqtr" path="res://assets/train/train_front.png" id="7_5beo8"]
[ext_resource type="Script" uid="uid://c0a5qffuueq40" path="res://scripts/train.gd" id="7_r0s3i"]
[ext_resource type="Script" uid="uid://d0irtv86huiiv" path="res://scripts/player.gd" id="8_mrt1k"]
[ext_resource type="Texture2D" uid="uid://i1bac5gpsclt" path="res://assets/STRANDED UI PACK/HP Bars/HP Bar 51x9.png" id="10_4i4ie"]
[ext_resource type="FontFile" uid="uid://u6txac7vm6rd" path="res://assets/fonts/Probly8.ttf" id="11_4i4ie"]

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_t6sgc"]
texture = ExtResource("2_4bwrk")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_4bwrk"]
texture = ExtResource("3_5beo8")

[sub_resource type="Curve2D" id="Curve2D_rjw37"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1226, -606, 0, 0, 0, 0, 255, -854, 0, 0, 0, 0, 1680, -617, 0, 0, 0, 0, 1867, 243, 0, 0, 0, 0, 1751, 1153, 0, 0, 0, 0, 315, 1332, 0, 0, 0, 0, -1201, 1122, 0, 0, 0, 0, -1439, 172, 0, 0, 0, 0, -1226, -596)
}
point_count = 9

[sub_resource type="Curve2D" id="Curve2D_nkvhx"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 339, 268, 0, 0, 0, 0, 339, 395, 0, 0, 0, 0, 403, 458, 0, 0, 0, 0, 531, 458, 0, 0, 0, 0, 594, 395, 0, 0, 0, 0, 594, 267, 0, 0, 0, 0, 530, 203, 0, 0, 0, 0, 403, 203, 0, 0, 0, 0, 339, 268)
}
point_count = 9

[sub_resource type="AtlasTexture" id="AtlasTexture_r0s3i"]
atlas = ExtResource("6_4bwrk")
region = Rect2(0, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vt6sv"]
atlas = ExtResource("6_4bwrk")
region = Rect2(16, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mrt1k"]
atlas = ExtResource("6_4bwrk")
region = Rect2(32, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4i4ie"]
atlas = ExtResource("6_4bwrk")
region = Rect2(48, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hfi5g"]
atlas = ExtResource("6_4bwrk")
region = Rect2(64, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tg6hx"]
atlas = ExtResource("6_4bwrk")
region = Rect2(80, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bg3rl"]
atlas = ExtResource("6_4bwrk")
region = Rect2(96, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hs66j"]
atlas = ExtResource("6_4bwrk")
region = Rect2(112, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fp0yo"]
atlas = ExtResource("6_4bwrk")
region = Rect2(128, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7yhjp"]
atlas = ExtResource("6_4bwrk")
region = Rect2(144, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_46648"]
atlas = ExtResource("6_4bwrk")
region = Rect2(160, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h0ha7"]
atlas = ExtResource("6_4bwrk")
region = Rect2(176, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_76kcq"]
atlas = ExtResource("6_4bwrk")
region = Rect2(0, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ym3gj"]
atlas = ExtResource("6_4bwrk")
region = Rect2(16, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rauhl"]
atlas = ExtResource("6_4bwrk")
region = Rect2(32, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_huv6e"]
atlas = ExtResource("6_4bwrk")
region = Rect2(48, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8gmy3"]
atlas = ExtResource("6_4bwrk")
region = Rect2(64, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cjyux"]
atlas = ExtResource("6_4bwrk")
region = Rect2(80, 0, 16, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_5fga3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r0s3i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vt6sv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mrt1k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4i4ie")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hfi5g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tg6hx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bg3rl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hs66j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fp0yo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7yhjp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_46648")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h0ha7")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_76kcq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ym3gj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rauhl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_huv6e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8gmy3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cjyux")
}],
"loop": true,
"name": &"spawn",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_mrt1k"]
radius = 36.0555

[sub_resource type="AtlasTexture" id="AtlasTexture_5fga3"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 90, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_nkvhx"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 81, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_c0lnf"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 0, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1qpi"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 72, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_p0pgc"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 63, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_botwr"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 54, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_oa1dh"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 45, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_nvqit"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 36, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_5plyu"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 27, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_aheiu"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 18, 51, 9)

[sub_resource type="AtlasTexture" id="AtlasTexture_56ad6"]
atlas = ExtResource("10_4i4ie")
region = Rect2(0, 9, 51, 9)

[sub_resource type="SpriteFrames" id="SpriteFrames_wih21"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5fga3")
}],
"loop": false,
"name": &"0",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nkvhx")
}],
"loop": false,
"name": &"10",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_c0lnf")
}],
"loop": false,
"name": &"100",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1qpi")
}],
"loop": false,
"name": &"20",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p0pgc")
}],
"loop": false,
"name": &"30",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_botwr")
}],
"loop": false,
"name": &"40",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_oa1dh")
}],
"loop": false,
"name": &"50",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nvqit")
}],
"loop": false,
"name": &"60",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5plyu")
}],
"loop": false,
"name": &"70",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_aheiu")
}],
"loop": false,
"name": &"80",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_56ad6")
}],
"loop": false,
"name": &"90",
"speed": 1.0
}]

[node name="Game" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_85uov")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 0

[node name="XPBar" type="ProgressBar" parent="CanvasLayer"]
anchors_preset = 10
anchor_right = 1.0
offset_left = 50.0
offset_right = -10.0
offset_bottom = 20.0
grow_horizontal = 2
theme_override_styles/background = SubResource("StyleBoxTexture_t6sgc")
theme_override_styles/fill = SubResource("StyleBoxTexture_4bwrk")
max_value = 5.0
step = 1.0
value = 3.0
show_percentage = false

[node name="Level" type="Label" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 23.0
theme = ExtResource("4_hfi5g")
text = "1"
horizontal_alignment = 1

[node name="Player" parent="." instance=ExtResource("2_uhra2")]
position = Vector2(1180, 972)
script = null

[node name="GameOver" type="CanvasLayer" parent="."]
unique_name_in_owner = true
visible = false

[node name="ColorRect" type="ColorRect" parent="GameOver"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 12.0
offset_bottom = 8.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.737255)

[node name="Label" type="Label" parent="GameOver/ColorRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -43.5
offset_top = -11.5
offset_right = 43.5
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 42
text = " Game Over"

[node name="MobSpawner" parent="." instance=ExtResource("4_uhra2")]

[node name="MobSpawnPath" type="Path2D" parent="."]
position = Vector2(1180, 972)
curve = SubResource("Curve2D_rjw37")

[node name="MobSpawnPoint" type="PathFollow2D" parent="MobSpawnPath"]
unique_name_in_owner = true
position = Vector2(-1226, -606)
rotation = -0.165915

[node name="TrainPath" type="Path2D" parent="."]
position = Vector2(91.7999, 154.137)
scale = Vector2(0.8, 0.555973)
curve = SubResource("Curve2D_nkvhx")

[node name="Train" type="PathFollow2D" parent="TrainPath"]
position = Vector2(339, 268.104)
rotation = 1.5708
progress = 0.2
script = ExtResource("7_r0s3i")

[node name="Sprite2D" type="Sprite2D" parent="TrainPath/Train"]
rotation = 1.5708
texture = ExtResource("7_5beo8")

[node name="Forge" type="Node2D" parent="."]
script = ExtResource("8_mrt1k")

[node name="ForgeSprite" type="AnimatedSprite2D" parent="Forge"]
unique_name_in_owner = true
position = Vector2(468, 324)
sprite_frames = SubResource("SpriteFrames_5fga3")
animation = &"idle"
frame_progress = 0.115132

[node name="Camera2D" type="Camera2D" parent="Forge/ForgeSprite"]

[node name="HurtBox" type="Area2D" parent="Forge/ForgeSprite"]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Forge/ForgeSprite/HurtBox"]
position = Vector2(0, 1)
shape = SubResource("CircleShape2D_mrt1k")
debug_color = Color(0.311864, 0.626386, 5.77569e-07, 0.42)

[node name="HPBar" type="AnimatedSprite2D" parent="Forge"]
unique_name_in_owner = true
sprite_frames = SubResource("SpriteFrames_wih21")
animation = &"0"

[node name="LevelUpUI" type="CanvasLayer" parent="."]
unique_name_in_owner = true
visible = false

[node name="ColorRect" type="ColorRect" parent="LevelUpUI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.67451)

[node name="VBoxContainer" type="VBoxContainer" parent="LevelUpUI/ColorRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -17.5
offset_top = -13.5
offset_right = 17.5
offset_bottom = 13.5
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="LevelUpUI/ColorRect/VBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("11_4i4ie")
theme_override_font_sizes/font_size = 41
text = "Level Up!"
horizontal_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="LevelUpUI/ColorRect/VBoxContainer"]
layout_mode = 2

[node name="Option1" type="VBoxContainer" parent="LevelUpUI/ColorRect/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="Button" type="Button" parent="LevelUpUI/ColorRect/VBoxContainer/HBoxContainer/Option1"]
layout_mode = 2
text = "Faster Train"

[node name="Option2" type="VBoxContainer" parent="LevelUpUI/ColorRect/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="Button" type="Button" parent="LevelUpUI/ColorRect/VBoxContainer/HBoxContainer/Option2"]
layout_mode = 2
text = "Faster Train"

[node name="Option3" type="VBoxContainer" parent="LevelUpUI/ColorRect/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="Button" type="Button" parent="LevelUpUI/ColorRect/VBoxContainer/HBoxContainer/Option3"]
layout_mode = 2
text = "Faster Train"
